@using Sandbox;
@using Sandbox.UI;
@using System;

@namespace MyGame
@inherits RootPanel
@attribute [StyleSheet]

<root>
    <ChatBox/>
    <VoiceList/>

    <div class="header">
        <label @ref=EnergyLabel></label>
        <label @ref=Speed2DLabel></label>
        <label @ref=Speed3DLabel></label>
    </div>
</root>

@code
{
    public Label EnergyLabel { get; set; }
    public Label Speed2DLabel { get; set; }
    public Label Speed3DLabel { get; set; }

    public override void Tick()
    {
        var Pawn = (Pawn)Game.LocalPawn;
        EnergyLabel.Text = $"Energy: {MathF.Truncate(Pawn.Controller.Energy)}";
        Speed2DLabel.Text = $"Speed 2D: {MathF.Round(Pawn.Velocity.WithZ(0).Length)}";
        Speed3DLabel.Text = $"Speed 3D: {MathF.Round(Pawn.Velocity.Length)}";
    }
}